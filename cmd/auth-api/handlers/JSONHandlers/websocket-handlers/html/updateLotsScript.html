<script type="text/javascript">

    function WebSocketPrice() {
        if ("WebSocket" in window) {
            var ws = new WebSocket("ws://localhost:5000/auction/ws/{{.Lot.ID}}/buy");
            ws.onopen = function () {
                alert("WS is opened");
            };

            ws.onmessage = function (evt) {
                var lot = JSON.parse(evt.data);
                console.log(lot);
                document.getElementById("lot_" + lot.id).innerHTML =
                    `<pre> <td>` + lot.id + `</td>
                    <td>` + lot.title + `</td>
                    <td>` + lot.description + `</td>
                    <td>` + lot.buy_price + `</td>
                    <td>` + lot.min_price + `</td>
                    <td>` + lot.price_step + `</td>
                    <td>` + lot.status + `</td>
                    <td>` + lot.end_at + `</td> </pre>`;
            };

            ws.onclose = function () {
                alert("WS is closed");
            };
        } else {
            alert("WebSocket is not supported in your browser");
        }
    }
</script>